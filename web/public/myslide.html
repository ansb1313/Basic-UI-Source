<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <title>slide</title>

    <!--font awesome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- google material icon -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../assets/scss/style.css?v=css_Ver2">

    <script src="../assets/js/lib/jquery-1.12.2.min.js" type="text/javascript"></script>
    <script src="../assets/js/lib/jquery.dotdotdot.js"></script>
    <script src="../assets/js/lib/slick.js"></script>
    <script src="../assets/js/lib/jquery.easing.1.3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="../assets/js/script.js"></script>

    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.js"></script>
    <![endif]-->
</head>
<body>
<div id="wrap" class="paging-fadeout">
    <div class="paging-gage"></div>

    <div class="kool-slider">
        <ul>
            <li class="slide slide1">
                <div class="text">
                    <h2>hello world</h2>
                    <p>it will be fine. i'm sure. trust you.
                </div>
            </li>
            <li class="slide slide2">
                <div class="text">
                    <h2>hello world</h2>
                    <p>it will be fine. i'm sure. trust you.
                </div>
            </li>
            <li class="slide slide3">
                <div class="text">
                    <h2>hello world</h2>
                    <p>it will be fine. i'm sure. trust you.
                </div>
            </li>
            <li class="slide slide4">
                <div class="text">
                    <h2>hello world</h2>
                    <p>it will be fine. i'm sure. trust you.
                </div>
            </li>
            <li class="slide slide5">
                <div class="text">
                    <h2>hello world</h2>
                    <p>it will be fine. i'm sure. trust you.
                </div>
            </li>
        </ul>

        <div class="controller">
            <button class="btn btn-prev">
                <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="auto" viewBox="0 0 30 30">
                    <g fill="none" fill-rule="nonzero">
                        <circle cx="15" cy="15" r="15" fill="none"/>
                        <path fill="#000" d="M9.229 15.479l8.603 7.647a.5.5 0 0 1-.664.748L8.17 15.877a.5.5 0 0 1-.022-.733l8.997-8.998a.5.5 0 0 1 .708.708l-8.625 8.625z"/>
                    </g>
                </svg>
            </button>
            <button class="btn btn-next">
                <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="auto" viewBox="0 0 30 30">
                    <g fill="none" fill-rule="nonzero">
                        <circle cx="15" cy="15" r="15" fill="#000" fill-opacity="0"/>
                        <path fill="#000" d="M19.771 15.479l-8.603 7.647a.5.5 0 0 0 .664.748l8.997-7.997a.5.5 0 0 0 .022-.733l-8.997-8.998a.5.5 0 0 0-.708.708l8.625 8.625z"/>
                    </g>
                </svg>
            </button>
        </div>
        <div class="dots"></div>
    </div>


</div>

<script>
    var kool = {
        init : function () {
            kool.slider();
        },
        slider : function () {
            // slide
            const slide = $('.slide');

            // slide length
            const slideLength = slide.length;

            // controller
            const buttonPrev = $('.btn-prev');
            const buttonNext = $('.btn-next');

            // render dots
            const dots = $('.dots');
            renderDots();
            const dot = $('.dot');

            // initialize
            let currentSlideIndex = 0;
            handleSlide(currentSlideIndex);
            handleDots();


            function beforeChange() {

            }

            // handle next
            buttonNext.on('click', () => {
                beforeChange();
                currentSlideIndex = currentSlideIndex + 1;
                if(currentSlideIndex >= slideLength){
                    currentSlideIndex = 0;
                }
                handleSlide(currentSlideIndex);

            })

            // handle prev
            buttonPrev.on('click', () => {
                beforeChange();
                currentSlideIndex = currentSlideIndex - 1;
                if(currentSlideIndex < 0){
                    currentSlideIndex = 4;
                }
                handleSlide(currentSlideIndex);
            })

            // handle slide index
            function handleSlide(currentSlideIndex){
                active(slide);
                active(dot);
                $('.slidepg').html(currentSlideIndex);
            }

            // handle class active
            function active(el){
                el.eq(currentSlideIndex).addClass('is-active').siblings().removeClass('is-active');
            }

            // render dots
            function renderDots(){
                let renderDots = [];
                for(var i=0; i < slideLength; i++){
                    renderDots.push('<div class="dot"></div>')
                }
                dots.html(renderDots);
            }

            // handle dots
            function handleDots() {
                dot.on('click', function(){
                    const thisIndex = $(this).index();
                    currentSlideIndex = thisIndex;
                    handleSlide(currentSlideIndex);
                })
            }
        }
    }

    kool.init();
</script>
</body>
</html>